@page
@model WA30.Pages.ClientBootstrapModel
@{
}

<link href="~/lib/twitter-bootstrap/css/bootstrap.css" rel="stylesheet" />

<div class="container">
    <h2>Index</h2>

    <form method="post" class="form-inline">
        <div class="form-group">
            <label for="filter">Producto</label>
            <input asp-for="Filter" placeholder="Type filter here" class="form-control"/>
        </div>
        <button type="submit" class="btn btn-primary">Search</button>
    </form>

    @if (Model.Products != null && Model.Products.Any())
    {

        @foreach (var gp in Model.Products)
        {
            <section>
                <h3>@gp.Key</h3>

                <table class="table table-striped table-bordered table-hover">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>QuantityPerUnit</th>
                            <th>Price</th>
                            <th>Stock</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var p in gp)
                        {
                            <tr>
                                <td>@p.ProductName</td>
                                <td>@p.QuantityPerUnit</td>
                                <td>@p.UnitPrice</td>
                                <td>@p.UnitsInStock</td>
                            </tr>
                        }
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="4">
                                <p>
                                    Cantidad de Productos:
                                    <span class="badge badge-primary">@gp.Count()</span>
                                </p>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </section>
        }
    }
</div>